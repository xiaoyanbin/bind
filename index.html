<html>
<head>
	<title></title>
</head>
<body>

<script TYPE="text/javascript">

function bar(){
	this.habit ="aa";
}

bar.prototype.friend = "AAA";

Function.prototype.bind2 =function(context){
			if(typeof this !== "function"){
				throw new Error("不是一个function");
			}
			var self = this;
			var args = Array.prototype.slice.call(arguments,true);
            
            var FN = function(){}
			var fResult =function(){  
				var bindArgs =Array.prototype.slice.call(arguments);
				

		        return self.apply(this instanceof fResult ? this : context, args.concat(bindArgs)) 
			}
			FN.prototype = this.prototype;
            fResult.prototype = new FN();
			return fResult;
}

var bindFoo2 = bar.bind2('Derry');
var obj2 = new bindFoo2('18');

console.log(obj2.habit);
console.log(obj2.friend);
</script>
</body>
</html>